<h2 class="text-xl font-bold text-center mb-6">LINE連携コード</h2>

<div class="flex flex-col items-center justify-center space-y-4">
  <div class="bg-gray-100 border px-6 py-4 rounded text-center">
    <input id="line_token"
           type="text"
           value="<%= @user.line_link_token %>"
           readonly
           class="w-64 px-4 py-2 border rounded-lg text-center font-mono text-xl bg-white" />
    <p class="mt-2 text-sm text-gray-600">このコードをLINEのBotに送信してください</p>
  </div>

  <button
    onclick="
      navigator.clipboard.writeText(document.getElementById('line_token').value);
      const msg = document.createElement('div');
      msg.innerHTML = '<i class=\'fa-solid fa-circle-check mr-2 text-green-600 text-sm\'></i>コピーしました！';
      msg.className = 'absolute top-full mt-2 px-3 py-1 bg-white text-gray-600 text-sm rounded-lg shadow-md border border-gray-200';
      // ボタンの直後に表示
      event.currentTarget.parentNode.appendChild(msg);
      setTimeout(() => msg.remove(), 2000);
    "
    class="relative mt-4 px-4 py-2 bg-white text-green-700 font-semibold rounded-lg shadow hover:bg-gray-100">
    <i class="fa-solid fa-copy mr-1"></i> コピー
  </button>

</div>
